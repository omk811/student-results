<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>نظام نتائج الطلاب - الأستاذ خليل البلوشي</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan+2:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4361ee;
      --primary-dark: #3a56d4;
      --secondary: #7209b7;
      --accent: #f72585;
      --success: #4cc9f0;
      --warning: #ff9e00;
      --danger: #e63946;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --gradient: linear-gradient(135deg, #4361ee 0%, #7209b7 100%);
      --gradient-light: linear-gradient(135deg, #4cc9f0 0%, #4361ee 100%);
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 15px 50px rgba(0, 0, 0, 0.15);
      --radius: 16px;
      --radius-sm: 8px;
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Baloo Bhaijaan 2', Tahoma, Arial, sans-serif;
      direction: rtl;
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
      min-height: 100vh;
      font-size: 16px;
      line-height: 1.6;
      color: var(--dark);
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px 0;
    }

    .logo-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
      margin-bottom: 10px;
    }

    .logo {
      width: 70px;
      height: 70px;
      background: var(--gradient);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 28px;
      box-shadow: var(--shadow);
    }

    .header-text h1 {
      font-size: 32px;
      background: var(--gradient);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 5px;
    }

    .header-text p {
      color: var(--gray);
      font-size: 18px;
    }

    .main-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin-bottom: 40px;
    }

    @media (max-width: 992px) {
      .main-content {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: white;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 30px;
      transition: var(--transition);
      overflow: hidden;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .card-header {
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--light);
    }

    .card-header h2 {
      font-size: 24px;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .card-header h2 i {
      color: var(--accent);
    }

    .input-group {
      margin-bottom: 20px;
    }

    .input-container {
      position: relative;
      margin-bottom: 20px;
    }

    input {
      width: 100%;
      padding: 16px 20px;
      font-family: 'Baloo Bhaijaan 2', Tahoma, Arial, sans-serif;
      font-size: 18px;
      border: 2px solid #e9ecef;
      border-radius: var(--radius);
      background-color: var(--light);
      transition: var(--transition);
    }

    input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
    }

    .btn-group {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }

    button {
      padding: 16px 30px;
      font-family: 'Baloo Bhaijaan 2', Tahoma, Arial, sans-serif;
      font-size: 18px;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-weight: 600;
      flex: 1;
      min-width: 150px;
    }

    .btn-primary {
      background: var(--gradient);
      color: white;
      box-shadow: 0 4px 15px rgba(67, 97, 238, 0.3);
    }

    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(67, 97, 238, 0.4);
    }

    .btn-secondary {
      background: white;
      color: var(--primary);
      border: 2px solid var(--primary);
    }

    .btn-secondary:hover {
      background: var(--primary);
      color: white;
    }

    .btn-print {
      background: var(--success);
      color: white;
    }

    .btn-print:hover {
      background: #1ba87e;
      transform: translateY(-2px);
    }

    .motivational-quote {
      background: var(--gradient);
      color: white;
      padding: 30px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .motivational-quote::before {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      width: 100px;
      height: 100px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      transform: translate(30px, -30px);
    }

    .motivational-quote::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 150px;
      height: 150px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      transform: translate(-50px, 50px);
    }

    .teacher-header {
      font-size: 22px;
      font-weight: bold;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .quote-content {
      font-size: 18px;
      line-height: 1.8;
      position: relative;
      z-index: 1;
    }

    #result {
      margin-top: 30px;
    }

    .results-container {
      background: white;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      margin-top: 20px;
    }

    .student-info {
      background: var(--gradient);
      color: white;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .student-name {
      font-size: 24px;
      font-weight: bold;
    }

    .student-total {
      font-size: 28px;
      font-weight: bold;
    }

    /* تنسيق الجدول النتائج */
    .results-table {
      width: 100%;
      border-collapse: collapse;
      font-family: 'Baloo Bhaijaan 2', Tahoma, Arial, sans-serif;
      font-size: 18px;
    }

    .results-table th {
      background: var(--light);
      color: var(--dark);
      padding: 20px 15px;
      text-align: center;
      font-weight: bold;
      font-size: 18px;
      border-bottom: 2px solid #e9ecef;
    }

    .results-table td {
      padding: 18px 15px;
      text-align: center;
      border-bottom: 1px solid #f1f3f4;
    }

    .results-table tr:nth-child(even) {
      background-color: #f8f9fa;
    }

    .results-table tr:hover {
      background-color: #f1f3f4;
    }

    .results-table .max-score {
      background-color: #fff8e1 !important;
      font-weight: bold;
      color: #5d4037;
    }

    .results-table .total-row {
      background-color: #e8f5e9 !important;
      font-weight: bold;
    }

    .results-table .final-row {
      background-color: #e3f2fd !important;
      font-weight: bold;
    }

    .results-table .grand-total-row {
      background: var(--gradient) !important;
      color: white;
      font-weight: bold;
      font-size: 20px;
    }

    .results-table .level-row {
      background-color: #fce4ec !important;
      font-weight: bold;
      font-size: 20px;
    }

    .result-item, .error, .loading {
      margin: 10px auto;
      padding: 20px;
      border-radius: var(--radius);
      width: 90%;
      max-width: 500px;
      font-family: 'Baloo Bhaijaan 2', Tahoma, Arial, sans-serif;
    }

    .error {
      color: var(--danger);
      background-color: #ffebee;
      border-left: 5px solid var(--danger);
    }

    .loading {
      color: var(--primary);
      background-color: #e3f2fd;
      border-left: 5px solid var(--primary);
    }

    .note {
      background-color: #fff3cd;
      border: 1px solid #ffeaa7;
      border-radius: var(--radius);
      padding: 20px;
      margin: 20px;
      font-size: 16px;
      color: #856404;
      text-align: right;
    }

    .teacher-signature {
      text-align: left;
      margin-top: 40px;
      padding: 20px;
      border-top: 2px solid #e9ecef;
    }

    .teacher-name {
      font-size: 18px;
      font-weight: bold;
      color: var(--dark);
      margin-top: 10px;
    }

    .stats-container {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin: 30px 0;
    }

    .stat-card {
      background: white;
      border-radius: var(--radius);
      padding: 25px;
      box-shadow: var(--shadow);
      text-align: center;
      transition: var(--transition);
      border-top: 4px solid var(--primary);
    }

    .stat-card:hover {
      transform: translateY(-5px);
    }

    .stat-icon {
      font-size: 40px;
      margin-bottom: 15px;
      color: var(--primary);
    }

    .stat-value {
      font-size: 32px;
      font-weight: bold;
      color: var(--primary);
      margin-bottom: 10px;
    }

    .stat-label {
      color: var(--gray);
      font-size: 16px;
    }

    footer {
      margin-top: 50px;
      padding: 20px;
      text-align: center;
      color: var(--gray);
      font-size: 16px;
      border-top: 1px solid #e9ecef;
    }

    /* تنسيق الجدول للطباعة */
    .print-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px auto;
      font-size: 18px;
      direction: rtl;
      font-family: 'Baloo Bhaijaan 2', Tahoma, Arial, sans-serif;
    }

    .print-table th, .print-table td {
      border: 1px solid #333;
      padding: 12px;
      text-align: center;
    }

    .print-table th {
      background-color: var(--primary);
      color: white;
    }

    .print-table tr:nth-child(even) {
      background-color: #f2f2f2;
    }

    /* Media Query للشاشات الصغيرة */
    @media screen and (max-width: 768px) {
      body {
        padding: 15px;
        font-size: 16px;
      }

      .header-text h1 {
        font-size: 26px;
      }

      .card {
        padding: 20px;
      }

      .btn-group {
        flex-direction: column;
      }

      button {
        width: 100%;
      }

      .results-table th, .results-table td {
        padding: 12px 8px;
        font-size: 16px;
      }

      .stats-container {
        grid-template-columns: 1fr;
      }

      .student-info {
        flex-direction: column;
        gap: 10px;
        text-align: center;
      }
    }

    @media print {
      body * {
        visibility: hidden;
      }
      .print-section, .print-section * {
        visibility: visible;
      }
      .print-section {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
      }
      button {
        display: none;
      }
      h1, h2 {
        display: none;
      }
      input {
        display: none;
      }
      #result {
        display: none;
      }
      .note {
        background-color: #fff3cd !important;
        border: 1px solid #ffeaa7 !important;
        color: #856404 !important;
        padding: 15px !important;
        margin: 20px auto !important;
        font-size: 16px !important;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo-container">
        <div class="logo">
          <i class="fas fa-graduation-cap"></i>
        </div>
        <div class="header-text">
          <h1>نظام نتائج الطلاب</h1>
          <p>تابع درجاتك وتطورك الأكاديمي بسهولة</p>
        </div>
      </div>
    </header>

    <div class="main-content">
      <div class="card">
        <div class="card-header">
          <h2><i class="fas fa-search"></i> استعلام النتائج</h2>
        </div>
        
        <div class="input-group">
          <div class="input-container">
            <input type="text" id="studentId" placeholder="أدخل رقم الطالب (مثل: 1)" onkeypress="if(event.key==='Enter') checkResult()">
          </div>
        </div>
        
        <div class="btn-group">
          <button class="btn-primary" onclick="checkResult()">
            <i class="fas fa-chart-line"></i>
            عرض النتائج
          </button>
          <button class="btn-secondary" onclick="loadData()">
            <i class="fas fa-sync-alt"></i>
            تحديث البيانات
          </button>
          <button class="btn-print" onclick="printTable()" id="printBtn" style="display:none;">
            <i class="fas fa-print"></i>
            طباعة النتائج
          </button>
        </div>
      </div>

      <div class="motivational-quote">
        <div class="teacher-header">
          <i class="fas fa-user-graduate"></i>
          الأستاذ خليل البلوشي
        </div>
        <div class="quote-content">
          "أنتم أبطال الحروف وروّاد الكلمات، فكل درس تتعلمونه اليوم هو خطوة نحو مستقبلٍ مشرق تُعبّرون فيه عن أفكاركم بثقة وفصاحة. لا تتوقفوا عن القراءة، فكل كتاب يفتح لكم بابًا جديدًا من المعرفة!" 📚✨
        </div>
      </div>
    </div>

    <div id="result"></div>
    
    <!-- قسم الطباعة المخفي -->
    <div class="print-section" id="printSection" style="display:none;"></div>

    <footer>
      <p>جميع الحقوق محفوظة &copy; 2023 - نظام نتائج الطلاب - الأستاذ خليل البلوشي</p>
    </footer>
  </div>

  <script>
    let results = {};
    let currentStudentData = null;
    let isLoading = false;

    // استبدل هذا الرابط برابط Google Sheet الخاص بك
    const GOOGLE_SHEET_URL = "https://docs.google.com/spreadsheets/d/1bY6sJ2CaLy7olcCpmX6V7HMuoGZIC6G9VcPWpk0eFGw/gviz/tq?tqx=out:json";

    // تحميل البيانات من Google Sheets
    async function loadData() {
      if (isLoading) return;
      
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = '<div class="result-item loading"><i class="fas fa-spinner fa-spin"></i> جاري تحميل البيانات...</div>';
      isLoading = true;

      try {
        const response = await fetch(GOOGLE_SHEET_URL);
        const text = await response.text();
        
        // تنظيف البيانات من النص الزائد
        const jsonData = text.replace('/*O_o*/', '').replace('google.visualization.Query.setResponse(', '').replace(');', '');
        const data = JSON.parse(jsonData);
        
        // تحويل البيانات إلى كائن
        results = {};
        const rows = data.table.rows;
        
        for (let i = 0; i < rows.length; i++) {
          const row = rows[i].c;
          const studentId = row[0] ? row[0].v.toString() : "";
          
          if (!studentId || studentId.trim() === "") continue;
          
          // جمع الدرجات تلقائيًا مع التحقق من وجود القيم
          const oral = row[2] && row[2].v ? parseFloat(row[2].v) || 0 : 0;
          const homework = row[3] && row[3].v ? parseFloat(row[3].v) || 0 : 0;
          const listening = row[4] && row[4].v ? parseFloat(row[4].v) || 0 : 0;
          const exam1 = row[5] && row[5].v ? parseFloat(row[5].v) || 0 : 0;
          const exam2 = row[6] && row[6].v ? parseFloat(row[6].v) || 0 : 0;
          const writing = row[7] && row[7].v ? parseFloat(row[7].v) || 0 : 0;
          
          // حساب المجموع التلقائي
          const calculatedTotal = oral + homework + listening + exam1 + exam2 + writing;
          const final = row[9] && row[9].v ? parseFloat(row[9].v) || 0 : 0;
          
          results[studentId] = {
            name: row[1] && row[1].v ? row[1].v : "غير محدد", // اسم الطالب
            oral: oral,
            homework: homework,
            listening: listening,
            exam1: exam1,
            exam2: exam2,
            writing: writing,
            total: calculatedTotal, // استخدام المجموع المحسوب
            final: final
          };
        }
        
        resultDiv.innerHTML = '<div class="result-item" style="color:green; border-left: 5px solid green;"><i class="fas fa-check-circle"></i> تم تحديث البيانات بنجاح!</div>';
        setTimeout(() => {
          resultDiv.innerHTML = '';
        }, 3000);
        
      } catch (error) {
        console.error('خطأ في تحميل البيانات:', error);
        resultDiv.innerHTML = '<div class="result-item error"><i class="fas fa-exclamation-circle"></i> حدث خطأ في تحميل البيانات. الرجاء المحاولة مرة أخرى لاحقاً.</div>';
      } finally {
        isLoading = false;
      }
    }

    // دالة لحساب مستوى الطالب
    function getStudentLevel(score) {
      if (score >= 90) return "ممتاز (A)";
      if (score >= 80) return "جيد جدا (B)";
      if (score >= 65) return "جيد (C)";
      if (score >= 50) return "مقبول (D)";
      return "يحتاج إلى مساعدة/راسب (F)";
    }

    function checkResult() {
      const id = document.getElementById("studentId").value.trim();
      const resultDiv = document.getElementById("result");
      const printBtn = document.getElementById("printBtn");
      const motivationalQuote = document.querySelector('.motivational-quote');

      if (!id) {
        resultDiv.innerHTML = '<div class="result-item error"><i class="fas fa-exclamation-circle"></i> يرجى إدخال رقم الطالب.</div>';
        printBtn.style.display = "none";
        return;
      }

      if (results[id]) {
        currentStudentData = results[id];
        const student = results[id];
        // حساب المجموع الكلي
        const grandTotal = (parseFloat(student.total) || 0) + (parseFloat(student.final) || 0);
        // حساب مستوى الطالب
        const level = getStudentLevel(grandTotal);
        
        // إخفاء العبارة المحفزة
        motivationalQuote.style.display = "none";
        
        // إنشاء جدول النتائج بترتيب جديد
        let tableHTML = `
          <div class="results-container">
            <div class="student-info">
              <div class="student-name">
                <i class="fas fa-user"></i> ${student.name || 'غير متوفر'}
              </div>
              <div class="student-total">
                ${grandTotal}/100
              </div>
            </div>
            
            <div class="stats-container">
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-chart-pie"></i>
                </div>
                <div class="stat-value">${student.total}/60</div>
                <div class="stat-label">مجموع أعمال الطلاب</div>
              </div>
              
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-file-alt"></i>
                </div>
                <div class="stat-value">${student.final || '0'}/40</div>
                <div class="stat-label">الاختبار النهائي</div>
              </div>
              
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-star"></i>
                </div>
                <div class="stat-value">${grandTotal}/100</div>
                <div class="stat-label">المجموع الكلي</div>
              </div>
              
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="fas fa-trophy"></i>
                </div>
                <div class="stat-value">${level.split(' ')[0]}</div>
                <div class="stat-label">المستوى الأكاديمي</div>
              </div>
            </div>
            
            <table class="results-table">
              <tr>
                <th>نوع التقييم</th>
                <th>الدرجة الكاملة</th>
                <th>درجة الطالب</th>
              </tr>
              <tr>
                <td>العرض الشفوي</td>
                <td>10</td>
                <td>${student.oral || '0'}</td>
              </tr>
              <tr>
                <td>الواجب المنزلي</td>
                <td>5</td>
                <td>${student.homework || '0'}</td>
              </tr>
              <tr>
                <td>التسميع</td>
                <td>5</td>
                <td>${student.listening || '0'}</td>
              </tr>
              <tr>
                <td>الاختبار القصير الأول</td>
                <td>15</td>
                <td>${student.exam1 || '0'}</td>
              </tr>
              <tr>
                <td>الاختبار القصير الثاني</td>
                <td>15</td>
                <td>${student.exam2 || '0'}</td>
              </tr>
              <tr>
                <td>التعبير الكتابي</td>
                <td>10</td>
                <td>${student.writing || '0'}</td>
              </tr>
              <tr class="max-score">
                <td>مجموع أعمال الطلاب</td>
                <td>60</td>
                <td>${student.total}</td>
              </tr>
              <tr class="final-row">
                <td>درجة الاختبار النهائي</td>
                <td>40</td>
                <td>${student.final || '0'}</td>
              </tr>
              <tr class="grand-total-row">
                <td>المجموع الكلي</td>
                <td>100</td>
                <td>${grandTotal}</td>
              </tr>
              <tr class="level-row">
                <td>مستوى الطالب</td>
                <td colspan="2">${level}</td>
              </tr>
            </table>
            
            <div class="note">
              <strong>ملاحظة:</strong> إذا كانت بعض الدرجات تظهر كـ "0"، فهذا يعني أنها لم تُدخل بعد في النظام
            </div>
            
            <div style="text-align: left; margin: 20px; font-weight: bold; color: var(--dark);">
              <i class="fas fa-user-graduate"></i> الأستاذ خليل البلوشي
            </div>
          </div>
        `;
        
        resultDiv.innerHTML = tableHTML;
        printBtn.style.display = "flex";
      } else {
        resultDiv.innerHTML = '<div class="result-item error"><i class="fas fa-exclamation-circle"></i> عذراً، الرقم غير موجود.</div>';
        printBtn.style.display = "none";
      }
    }

    function printTable() {
      if (!currentStudentData) return;
      
      const student = currentStudentData;
      const printSection = document.getElementById("printSection");
      
      // حساب المجموع الكلي
      const grandTotal = (parseFloat(student.total) || 0) + (parseFloat(student.final) || 0);
      // حساب مستوى الطالب
      const level = getStudentLevel(grandTotal);
      
      const now = new Date();
      const dateStr = now.toLocaleDateString('ar-SA');
      const timeStr = now.toLocaleTimeString('ar-SA');
      
      printSection.innerHTML = `
        <div style="text-align:center; margin-bottom:20px;">
          <h2>نتائج الطالب</h2>
          <p>تاريخ الطباعة: ${dateStr} - الوقت: ${timeStr}</p>
          <p style="font-weight: bold; font-size: 20px;">اسم الطالب: ${student.name || 'غير متوفر'}</p>
        </div>
        <table class="print-table">
          <thead>
            <tr>
              <th>نوع التقييم</th>
              <th>الدرجة الكاملة</th>
              <th>درجة الطالب</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>العرض الشفوي</td>
              <td>10</td>
              <td>${student.oral || '0'}</td>
            </tr>
            <tr>
              <td>الواجب المنزلي</td>
              <td>5</td>
              <td>${student.homework || '0'}</td>
            </tr>
            <tr>
              <td>التسميع</td>
              <td>5</td>
              <td>${student.listening || '0'}</td>
            </tr>
            <tr>
              <td>الاختبار القصير الأول</td>
              <td>15</td>
              <td>${student.exam1 || '0'}</td>
            </tr>
            <tr>
              <td>الاختبار القصير الثاني</td>
              <td>15</td>
              <td>${student.exam2 || '0'}</td>
            </tr>
            <tr>
              <td>التعبير الكتابي</td>
              <td>10</td>
              <td>${student.writing || '0'}</td>
            </tr>
            <tr style="background-color:#fff8e1; font-weight:bold;">
              <td>مجموع أعمال الطلاب</td>
              <td>60</td>
              <td>${student.total}</td>
            </tr>
            <tr style="background-color:#e3f2fd; font-weight:bold;">
              <td>درجة الاختبار النهائي</td>
              <td>40</td>
              <td>${student.final || '0'}</td>
            </tr>
            <tr style="background-color:#f3e5f5; font-weight:bold; font-size: 20px;">
              <td>المجموع الكلي</td>
              <td>100</td>
              <td>${grandTotal}</td>
            </tr>
            <tr style="background-color:#fce4ec; font-weight:bold; font-size: 20px;">
              <td>مستوى الطالب</td>
              <td colspan="2">${level}</td>
            </tr>
          </tbody>
        </table>
        <div class="note" style="background-color: #fff3cd; border: 1px solid #ffeaa7; color: #856404; padding: 15px; margin: 20px 0; font-size: 16px; border-radius: 5px;">
          <strong>ملاحظة:</strong> إذا كانت بعض الدرجات تظهر كـ "0"، فهذا يعني أنها لم تُدخل بعد في النظام
        </div>
        <div class="teacher-signature">
          <div style="text-align:left; margin-top:50px;">
            <div>التوقيع: ________________</div>
            <div class="teacher-name">الأستاذ خليل البلوشي</div>
          </div>
        </div>
      `;
      
      printSection.style.display = "block";
      window.print();
      printSection.style.display = "none";
    }

    // إعادة إظهار العبارة المحفزة عند إعادة تحميل الصفحة أو عند عدم عرض النتائج
    function showMotivationalQuote() {
      const motivationalQuote = document.querySelector('.motivational-quote');
      if (motivationalQuote) {
        motivationalQuote.style.display = "block";
      }
    }

    // تحميل البيانات تلقائيًا عند فتح الصفحة
    window.addEventListener('load', function() {
      loadData();
      showMotivationalQuote();
    });
  </script>
</body>
</html>
